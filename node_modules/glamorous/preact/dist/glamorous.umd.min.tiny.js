!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact"),require("glamor")):"function"==typeof define&&define.amd?define(["preact","glamor"],e):r.glamorous=e(r.preact,r.Glamor)}(this,function(r,e){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;var t="__glamorous__",n=void 0;if(r.PropTypes||(n=function(){return n},["array","bool","func","number","object","string","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact"].forEach(function(r){n[r]=n})),!r.Children){var o={map:function(r,e,t){return null==r?null:(r=o.toArray(r),t&&t!==r&&(e=e.bind(t)),r.map(e))},forEach:function(r,e,t){if(null==r)return null;r=o.toArray(r),t&&t!==r&&(e=e.bind(t)),r.forEach(e)},count:function(r){return r&&r.length||0},only:function(r){if(1!==(r=o.toArray(r)).length)throw new Error("Children.only() expects only one child.");return r[0]},toArray:function(r){return null==r?[]:[].concat(r)}};r.Children=o}n=n||r.PropTypes;var s,i=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),p=function(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r},c=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},l=function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)},u=function(r,e){var t={};for(var n in r)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},f=function(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e},m=function(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)};function y(r){var e=[],t=[];return r.toString().split(" ").forEach(function(r){if(0===r.indexOf("css-")){var n=p({},"data-"+r,"");t.push(n)}else e.push(r)}),{glamorlessClassName:e,glamorStyles:t}}function d(r){var t=r.styles,n=r.props,o=r.cssOverrides,s=r.cssProp,i=r.context,a=(r.displayName,function r(e,t,n){var o=void 0;var s=[];var i=[];for(var a=0;a<e.length;a++){for(o=e[a];"function"==typeof o;)o=o(t,n);if("string"==typeof o){var p=y(o),c=p.glamorStyles,l=p.glamorlessClassName;s.push.apply(s,m(c)),i.push.apply(i,m(l))}else if(Array.isArray(o)){var u=r(o,t,n);s.push.apply(s,m(u.mappedArgs)),i.push.apply(i,m(u.nonGlamorClassNames))}else s.push(o)}return{mappedArgs:s,nonGlamorClassNames:i}}([].concat(m(t),[n.className,o,s]),n,i)),p=a.mappedArgs,c=a.nonGlamorClassNames;return(e.css.apply(void 0,[null].concat(m(p))).toString()+" "+c.join(" ").trim()).trim()}function v(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(r)?r:[r]}function g(r,e){return r?r.concat(e):e}function b(r){return r.rootEl?r.rootEl:r.comp||r}return s=function(r,e){var t=e.forwardProps,n=r.css,o=r.innerRef,s=(r.theme,r.className,r.glam,u(r,["css","innerRef","theme","className","glam"]));return void 0!==o&&-1!==t.indexOf("innerRef")&&(s.innerRef=o),{toForward:s,cssProp:n}},function e(o){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=y.rootEl,P=y.displayName,w=y.shouldClassNameUpdate,A=y.filterProps,j=void 0===A?[]:A,N=y.forwardProps,x=void 0===N?[]:N,E=y.propsAreCssOverrides,C=void 0===E?o.propsAreCssOverrides:E,T=y.withProps;return Object.assign(R,{withConfig:_}),R;function _(r){return e(o,c({},y,r))}function R(){for(var y=arguments.length,A=Array(y),N=0;N<y;N++)A[N]=arguments[N];var E,R,k,S,G,W,I,q,F,M,U,D=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=o.noWarn,u=void 0!==s&&s,m=o.createElement,y=void 0===m||m,d=function(r){function n(){var r,e,t;i(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return e=t=f(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(s))),t.warned=u,t.state={theme:{}},t.setTheme=function(r){return t.setState({theme:r})},f(t,e)}return l(n,r),a(n,[{key:"componentWillMount",value:function(){this.context[t];var r=this.props.theme;this.context[t]?this.setTheme(r||this.context[t].getState()):this.setTheme(r||{})}},{key:"componentWillReceiveProps",value:function(r){this.props.theme!==r.theme&&this.setTheme(r.theme)}},{key:"componentDidMount",value:function(){this.context[t]&&!this.props.theme&&(this.subscriptionId=this.context[t].subscribe(this.setTheme))}},{key:"componentWillUnmount",value:function(){this.subscriptionId&&this.context[t].unsubscribe(this.subscriptionId)}},{key:"render",value:function(){return y?h(e,c({},this.props,this.state)):e.call(this,c({},this.props,this.state),this.context)}}]),n}(r.Component),v=p({},t,n.object),g=null;return Object.defineProperty(d,"contextTypes",{enumerable:!0,configurable:!0,set:function(r){g=r},get:function(){return g?c({},v,g):v}}),d}(function(e,t){var n=function(r,e,t){if(!w)return!0;var n=!0;return t&&(w(t.props,r,t.context,e)||(n=!1)),n}(e=function r(e,t,n,o){return e.forEach(function(e){return"function"==typeof e?Object.assign(t,e(Object.assign({},t,n),o)):Array.isArray(e)?Object.assign(t,r(e,t,n,o)):Object.assign(t,e)}),Object.assign(t,n)}(D.propsToApply,{},e,t),t,this.previous);w&&(this.previous={props:e,context:t});var o=s(e,D),i=o.toForward,a=o.cssOverrides,p=o.cssProp;return this.className=n?d({styles:D.styles,props:e,cssOverrides:a,cssProp:p,context:t,displayName:D.displayName}):this.className,r.createElement(D.comp,c({ref:"innerRef"in i?void 0:e.innerRef},i,{className:this.className}))},{noWarn:!0,createElement:!1});return Object.assign(D,(R=(E={comp:o,styles:A,rootEl:O,filterProps:j,forwardProps:x,displayName:P,propsToApply:T}).comp,k=E.styles,S=E.rootEl,G=E.filterProps,W=E.forwardProps,I=E.displayName,q=E.propsToApply,F=R.comp?R.comp:R,M=R.propsToApply?[].concat(m(R.propsToApply),m(v(q))):v(q),{styles:g(R.styles,k),comp:F,rootEl:S||b(R),forwardProps:g(R.forwardProps,W),filterProps:g(R.filterProps,G),displayName:I||"glamorous("+(U=R,"string"==typeof U?U:U.displayName||U.name||"unknown")+")",propsToApply:M}),{isGlamorousComponent:!0,propsAreCssOverrides:C,withComponent:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=D.forwardProps,o=D.filterProps,s=u(D,["forwardProps","filterProps"]);return e(c({},s,{comp:r,rootEl:b(r)}),c({forwardProps:n,filterProps:o},t))()},withProps:function(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];return e(D,{withProps:t})()},withConfig:_}),D}}});
//# sourceMappingURL=glamorous.umd.min.tiny.js.map
